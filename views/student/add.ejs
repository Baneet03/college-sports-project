<!--
including header content which is common for all pages
-->

<head>
	<link href="/assets/css/formstyle.css" rel="stylesheet">
</head>
<%- include ../layouts/header.ejs %>

	<% if (messages.error) { %>
		<p class="alert alert-danger">
			<%- messages.error %>
		</p>
		<% } %>

			<% if (messages.success) { %>
				<p class="alert alert-success">
					<%- messages.success %>
				</p>
				<% } %>
					<div id="results" class="col-md-6">Your captured image will appear here...</div>

					<h1>WebcamJS Test Page</h1>
					<h3>Demonstrates simple 320x240 capture &amp; display</h3>

					<div id="my_camera" class="col-md-6"></div>
					<input class="col-md-12" type=button value="Take Snapshot" onClick="take_snapshot()">
					<!-- First, include the Webcam.js JavaScript Library -->

					<!-- Configure a few settings and attach camera -->
					<script language="JavaScript">
						Webcam.set({
							width: 320,
							height: 240,
							image_format: 'jpeg',
							jpeg_quality: 90
						});
						Webcam.attach('#my_camera');
					</script>

					<!-- A button for taking snaps -->




					<!-- Code to handle taking the snapshot and displaying it locally -->


					<div id="k1">
						<form action="">
							<label for="name">Name</label>
							<input type="text" id="name" name="name" placeholder="Your name.." value="<%= name %>">

							<label for="year">Year</label>
							<input type="text" id="year" name="year" placeholder="Year.." value="<%= year %>">
							<select id="year" name="year" value="<%= year %>">
								<option value="australia">Australia</option>

							</select>


							<label for="course">Course</label>
							<input type="text" id="course" name="course" value="<%= course %>">
							<select id="course" name="course" value="<%= course %>">
								<option value="australia">Australia</option>

							</select>


							<label for="rollno">Roll No.</label>
							<input type="text" id="rollno" name="rollno" placeholder="Roll No.." value="<%= rollno %>">

							<label for="branch">Branch</label>
							<input type="text" id="branch" name="branch" value="<%= branch %>">
							<select id="branch" name="branch" value="<%= branch %>">
								<option value="australia">Australia</option>

							</select>



							<label for="gender">Gender</label>
							<input type="text" id="gender" name="gender" value="<%= gender %>">
							<select id="gender" name="gender" value="<%= gender %>">
								<option value="australia">Australia</option>

							</select>


							<% for(var i=0; i<events.length; i++) {%>
								<input type="checkbox" name="event" value="<%= events[i].event_name%>">
								<%= events[i].event_name%>
									<br>
									<% } %>
										<input type="submit" value="Submit">
						</form>
					</div>
					<form action="/students/add" method="post" name="form1">
						<table width="25%" border="0">
							<tr>
								<td>Name</td>
								<td>
									<input type="text" name="name" id="name" value="<%= name %>" />
								</td>
							</tr>
							<tr>
								<td>year</td>
								<td>
									<input type="text" name="year" value="<%= year %>" />
								</td>
							</tr>
							<tr>
								<td>course</td>
								<td>
									<input type="text" name="course" value="<%= course %>" />
								</td>
							</tr>
							<tr>
								<td>roll no</td>
								<td>
									<input id="photo" type="hidden" name="photo" value="" />
									<input type="text" name="rollno" value="<%= rollno %>" />
								</td>
							</tr>
							<tr>
								<td>branch</td>
								<td>
									<input type="text" name="branch" value="<%= branch %>" />
								</td>
							</tr>
							<tr>
								<td>gender</td>
								<td>
									<input type="text" name="gender" value="<%= gender %>" />
								</td>
							</tr>
							<% for(var i=0; i<events.length; i++) {%>
								<input type="checkbox" name="event" value="<%= events[i].event_name%>">
								<%= events[i].event_name%>
									<br>
									<% } %>
										<tr>
											<td></td>
											<td>
												<input type="submit" name="Submit" value="Add" />
											</td>
										</tr>
						</table>
					</form>
					</div>


					<script language="JavaScript">
						function take_snapshot() {
							// take snapshot and get image data
							Webcam.snap(function (data_uri) {
								document.getElementById('photo').value = data_uri;

								debugger
								// display results in page
								document.getElementById('results').innerHTML =
									'<h2>Here is your image:</h2>' +
									'<img src="' + data_uri + '"/>';
							});
						}
					</script>


					<!--
including footer content which is common for all pages
-->
					<%- include ../layouts/footer.ejs %>